{% extends "site.html" %}

{% block body_id %}chronam_search_pages{% endblock %}

{% block more_style %}

<style type="text/css">

    @import url({{script_name}}/css/smoothness/jquery-ui-1.7.2.custom.css);

.ui-widget {
font-size:0.7em;
}

.ui-corner-all {
-moz-border-radius:0;
-webkit-border-radius:0;
}

.ui-widget-header {
background: #d7c9a5;
border:1px solid #aaa;
color:#222;
}

.ui-state-default, .ui-widget-content .ui-state-default {
background: #fff;
border:1px solid #ddd;
color:#666;
text-align:center;
}

</style>

<script type="text/javascript" src="{{script_name}}/javascript/jquery-1.3.2.min.js">
</script>

<script type="text/javascript" src="{{script_name}}/javascript/jquery-ui-1.7.2.custom.min.js">
</script>

<script type="text/javascript">
    $(document).ready(function(){

        // init datepickers
            $('#date1').datepicker({defaultDate: new Date({{search_form.fulltextStartYear}}, 1-1, 1), showOn: "focus", yearRange: "{{search_form.fulltextStartYear}}:{{search_form.fulltextEndYear}}", currentText: '', changeMonth: true, changeYear: true, closeText: 'Done'});
            $('#date2').datepicker({defaultDate: new Date({{search_form.fulltextEndYear}}, 12-1, 31), showOn: "focus", yearRange: "{{search_form.fulltextStartYear}}:{{search_form.fulltextEndYear}}", currentText: '', changeMonth: true, changeYear: true});

        // bind form field .click's
            $('#date1, #date2').click( function() {
		$('#range').attr('checked', 'checked');
            });
            $('#radioyear').click( function() {
                $('#date1, #date2').val(''); 
            });
            $('#range').click( function() {
                $('#date1').val('01/01/{{search_form.fulltextStartYear}}'); 
                $('#date2').val('12/31/{{search_form.fulltextEndYear}}'); 
            });

    });
</script>

{% endblock %}

{% block box_right %}

        <p>Select from the choices below to view Newspaper Pages from a place and time, using keywords to locate specific places, people, and events.</p>

        <form action="{% url chronam_search_pages_results %}" method="get" name="fulltext" id="fulltext">

        <div class="columns">
            <div class="right">
                <label for="id_lccn">
                    <h2 class="noborder">OR select newspaper(s):</h2>
                </label>
                {{search_form.lccn}} <!-- TODO: size="8" -->
            </div>
            <div class="left">
              
                <label for="id_state">
                    <h2 class="noborder">Select state(s):</h2>
                </label>
                {{search_form.state}}
           </div>
        </div>
   
        <h2> Select a year or date range*</h2>
        <p>*Newspaper pages are available for newspapers published between {{search_form.fulltextStartYear}}-{{search_form.fulltextEndYear}}</p>

        <fieldset id="select_year">            
          <label for="radioyear">&nbsp;</label>
          <input class="radio" type="radio" id="radioyear" name="dateFilterType" value="year" checked="checked" />
            <label for="id_year">Select a year</label> 
            {{search_form.year}} 
        </fieldset>           
                   
        <fieldset id="select_date">
            <label for="range">&nbsp;</label>
            <input class="radio" type="radio" id="range" name="dateFilterType" value="range" />
            <label for="date1">Select a date range</label>
            <input type="text" name="date1" id="date1" maxlength="10" value="01/01/{{search_form.fulltextStartYear}}" style="width: 80px"></input>
            &nbsp;to
            <label for="date2">&nbsp;</label>
            <input type="text" name="date2" id="date2" maxlength="10" value="12/31/{{search_form.fulltextEndYear}}" style="width: 80px"></input>
        </fieldset>

        <h2>Enter search</h2>
        <fieldset id="find_pages">            
            <p>Find newspaper pages...</p>
            <label for="id_ortext">...with <b>any</b> of the words: </label>
            {{search_form.ortext}}
            <br /><br />
            <label for="id_andtext">...with <b>all</b> of the words: </label>
            {{search_form.andtext}}
            <br /><br />
            <label for="id_phrasetext">...with the <b>phrase</b>: </label>
            {{search_form.phrasetext}}
            <br /><br />
            <label for="id_proxtext">...with the words: </label>
            {{search_form.proxtext}} 
            <label for="id_proxdistance">within</label>
            {{search_form.proxdistance}} 
            <label>words of each other</label>
         </fieldset>
            <input class="submit" name="submit" type="submit" value="SEARCH" />
            &nbsp; 
            <input class="submit" name="reset" type="reset" value="RESET" />
            <br />
            <br />
         </form>

{% endblock %}
